"use strict";function _classCallCheck(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}var appModule=angular.module("material-analytics",["ui.router","material-analytics-ecommerce"]).run(["$window","$rootScope","$location","analyticsConfig",function(a,e,n,t){a.test=1,a.dataLayer=a.dataLayer||[],e.$on("$stateChangeSuccess",function(e,r,i){var o=n.path();a.dataLayer.push({event:"virtualPageView",virtualPage:o,virtualTitle:r.name,tenantID:t.getTenantId()})})}]),_createClass=function(){function a(a,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(a,t.key,t)}}return function(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),e}}(),AnalyticsConfigProvider=function(){function a(){_classCallCheck(this,a),this.tenantId=""}return _createClass(a,[{key:"setTenantId",value:function(a){this.tenantId=a}},{key:"$get",value:function(){var a=this;return{getTenantId:function(){return a.tenantId}}}}]),a}();angular.module("material-analytics").provider("analyticsConfig",AnalyticsConfigProvider),angular.module("material-analytics-ecommerce",["ngLodash"]).run(["$rootScope","$window","maProductImpressions",function(a,e,n){e.dataLayer=e.dataLayer||[],e.ga&&e.ga("require","ec"),a.$on("ProductListLoaded",function(a,e,t){n.send(e,t)})}]),angular.module("material-analytics-ecommerce").factory("maProductImpressions",["$window","lodash",function(a,e){return{send:function(n){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1],r=e.map(n,function(a,e){var n=a.name,r=a.id,i=a.price,o="";return""!==t&&(o="Category"),{Name:n,Id:r,Price:i,Category:t,List:o,Position:e+1}});a.dataLayer.push({ecommerce:{impressions:r}})}}}]);